# `useCurrent`

The `useCurrent` hook is a powerful tool for managing the current question and category state in your application. It provides an intuitive API for updating and accessing these states, with automatic category inference based on the current question.

## Usage

```typescript
import { useCurrent } from '@/publicodes-state/hooks/formProvider/useCurrent'

function MyComponent() {
  const {
    currentQuestion,
    currentCategory,
    setCurrentQuestion,
    setCurrentCategory,
  } = useCurrent()

  // Example usage
  setCurrentQuestion('What is your annual income?')
  console.log(currentCategory) // Logs the inferred category, e.g., 'Income'

  // Manual category setting
  setCurrentCategory('Expenses')
}
```

## API

### Returned Values

| Name | Type | Description |
|------|------|-------------|
| `currentQuestion` | `string \| null` | The current active question |
| `currentCategory` | `string \| null` | The current active category |
| `setCurrentQuestion` | `(newQuestion: string \| null) => void` | Updates the current question and infers the category |
| `setCurrentCategory` | `(newCategory: string \| null) => void` | Manually updates the current category |

## Key Features

1. **Automatic Category Inference**: When setting a new question, the category is automatically inferred.
2. **Null Handling**: Both question and category can be set to `null`, useful for resetting states.
3. **Type Safety**: Fully typed for TypeScript projects, ensuring type consistency.

## Best Practices

- Use `setCurrentQuestion` when navigating through a questionnaire flow.
- Use `setCurrentCategory` when you need to manually override the inferred category.
- Access `currentQuestion` and `currentCategory` to conditionally render UI elements or make logic decisions.

## Implementation Details

The hook is implemented in `src/publicodes-state/hooks/formProvider/useCurrent.ts`. It likely uses React's Context API or a state management library to maintain and share state across components.

## Related Hooks

- `useForm`: Manages the overall form state
- `useNavigation`: Handles navigation between questions

For more information on the form provider and related hooks, see the [Form Provider documentation](./formProvider.mdx).
