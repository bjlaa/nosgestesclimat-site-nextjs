# [`usePersistentSimulations`](command:_github.copilot.openSymbolFromReferences?%5B%22usePersistentSimulations%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A12%2C%22character%22%3A24%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A43%2C%22character%22%3A6%7D%7D%5D%5D "Go to definition")

The [`usePersistentSimulations`](command:_github.copilot.openSymbolFromReferences?%5B%22usePersistentSimulations%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A12%2C%22character%22%3A24%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A43%2C%22character%22%3A6%7D%7D%5D%5D "Go to definition") hook manages the state of simulations, persisting them in [`localStorage`](command:_github.copilot.openSymbolFromReferences?%5B%22localStorage%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A197%2C%22character%22%3A2%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A24%2C%22character%22%3A29%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A17%2C%22character%22%3A19%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A32%2C%22character%22%3A29%7D%7D%5D%5D "Go to definition") and handling migrations.

## Purpose

This hook:
- Initializes simulations from [`localStorage`](command:_github.copilot.openSymbolFromReferences?%5B%22localStorage%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A197%2C%22character%22%3A2%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A24%2C%22character%22%3A29%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A17%2C%22character%22%3A19%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A32%2C%22character%22%3A29%7D%7D%5D%5D "Go to definition") or generates a new one if none exist.
- Persists simulations and the current simulation ID to [`localStorage`](command:_github.copilot.openSymbolFromReferences?%5B%22localStorage%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A197%2C%22character%22%3A2%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A24%2C%22character%22%3A29%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A17%2C%22character%22%3A19%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A32%2C%22character%22%3A29%7D%7D%5D%5D "Go to definition").
- Applies migration instructions to existing simulations.

## Usage

### Import

```typescript
import usePersistentSimulations from '@/publicodes-state/hooks/userProvider/usePersistentSimulations'
```

### Parameters

- [`storageKey`](command:_github.copilot.openSymbolFromReferences?%5B%22storageKey%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A9%2C%22character%22%3A2%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A7%2C%22character%22%3A2%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A8%2C%22character%22%3A2%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A28%2C%22character%22%3A2%7D%7D%5D%5D "Go to definition") ([`string`](command:_github.copilot.openSymbolFromReferences?%5B%22string%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A10%2C%22character%22%3A23%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A9%2C%22character%22%3A14%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A7%2C%22character%22%3A14%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A8%2C%22character%22%3A14%7D%7D%5D%5D "Go to definition")): The key used to store simulations in [`localStorage`](command:_github.copilot.openSymbolFromReferences?%5B%22localStorage%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A197%2C%22character%22%3A2%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A24%2C%22character%22%3A29%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A17%2C%22character%22%3A19%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A32%2C%22character%22%3A29%7D%7D%5D%5D "Go to definition").
- [`migrationInstructions`](command:_github.copilot.openSymbolFromReferences?%5B%22migrationInstructions%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A12%2C%22character%22%3A2%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A10%2C%22character%22%3A2%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A30%2C%22character%22%3A2%7D%7D%5D%5D "Go to definition") ([`Migration`](command:_github.copilot.openSymbolFromReferences?%5B%22Migration%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A3%2C%22character%22%3A9%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A2%2C%22character%22%3A9%7D%7D%5D%5D "Go to definition")): Instructions for migrating simulations.

### Example

```typescript
import usePersistentSimulations from '@/publicodes-state/hooks/userProvider/usePersistentSimulations'

const { simulations, setSimulations, currentSimulationId, setCurrentSimulationId } = usePersistentSimulations({
  storageKey: 'mySimulations',
  migrationInstructions: myMigrationInstructions,
})
```

### Return Values

- [`simulations`](command:_github.copilot.openSymbolFromReferences?%5B%22simulations%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A8%2C%22character%22%3A2%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A17%2C%22character%22%3A9%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A59%2C%22character%22%3A7%7D%7D%5D%5D "Go to definition") ([`Simulation[]`](command:_github.copilot.openSymbolFromReferences?%5B%22Simulation%5B%5D%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A8%2C%22character%22%3A15%7D%7D%5D%5D "Go to definition")): The list of simulations.
- [`setSimulations`](command:_github.copilot.openSymbolFromReferences?%5B%22setSimulations%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A9%2C%22character%22%3A2%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A17%2C%22character%22%3A22%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A40%2C%22character%22%3A4%7D%7D%5D%5D "Go to definition") ([`Dispatch<SetStateAction<Simulation[]>>`](command:_github.copilot.openSymbolFromReferences?%5B%22Dispatch%3CSetStateAction%3CSimulation%5B%5D%3E%3E%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A9%2C%22character%22%3A18%7D%7D%5D%5D "Go to definition")): Function to update the simulations.
- [`currentSimulationId`](command:_github.copilot.openSymbolFromReferences?%5B%22currentSimulationId%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A10%2C%22character%22%3A2%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A18%2C%22character%22%3A9%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A41%2C%22character%22%3A4%7D%7D%5D%5D "Go to definition") ([`string`](command:_github.copilot.openSymbolFromReferences?%5B%22string%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A10%2C%22character%22%3A23%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A9%2C%22character%22%3A14%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentTutorials.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A7%2C%22character%22%3A14%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentUser.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A8%2C%22character%22%3A14%7D%7D%5D%5D "Go to definition")): The ID of the current simulation.
- [`setCurrentSimulationId`](command:_github.copilot.openSymbolFromReferences?%5B%22setCurrentSimulationId%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A11%2C%22character%22%3A2%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2FuserProvider%2FusePersistentSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A18%2C%22character%22%3A30%7D%7D%2C%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fproviders%2FuserProvider%2Findex.tsx%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A42%2C%22character%22%3A4%7D%7D%5D%5D "Go to definition") ([`Dispatch<SetStateAction<string>>`](command:_github.copilot.openSymbolFromReferences?%5B%22Dispatch%3CSetStateAction%3Cstring%3E%3E%22%2C%5B%7B%22uri%22%3A%7B%22%24mid%22%3A1%2C%22fsPath%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22external%22%3A%22file%3A%2F%2F%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fpublicodes-state%2Fhooks%2Fuser%2FuseUser%2FuseSimulations.ts%22%2C%22scheme%22%3A%22file%22%7D%2C%22pos%22%3A%7B%22line%22%3A11%2C%22character%22%3A26%7D%7D%5D%5D "Go to definition")): Function to update the current simulation ID.

### Dependencies

- [`generateSimulation`](command:_github.copilot.openSymbolInFile?%5B%7B%22scheme%22%3A%22file%22%2C%22authority%22%3A%22%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Fhelpers%2Fsimulation%2FgenerateSimulation.ts%22%2C%22query%22%3A%22%22%2C%22fragment%22%3A%22%22%7D%2C%22generateSimulation%22%5D "/Users/benjaminarias/Documents/GitHub/nosgestesclimat-site-nextjs/src/helpers/simulation/generateSimulation.ts")
- [`getIsLocalStorageAvailable`](command:_github.copilot.openSymbolInFile?%5B%7B%22scheme%22%3A%22file%22%2C%22authority%22%3A%22%22%2C%22path%22%3A%22%2FUsers%2Fbenjaminarias%2FDocuments%2FGitHub%2Fnosgestesclimat-site-nextjs%2Fsrc%2Futils%2FgetIsLocalStorageAvailable.ts%22%2C%22query%22%3A%22%22%2C%22fragment%22%3A%22%22%7D%2C%22getIsLocalStorageAvailable%22%5D "/Users/benjaminarias/Documents/GitHub/nosgestesclimat-site-nextjs/src/utils/getIsLocalStorageAvailable.ts")

### Example Usage in a Component

```typescript
import React from 'react'
import usePersistentSimulations from '@/publicodes-state/hooks/userProvider/usePersistentSimulations'

const MyComponent = () => {
  const { simulations, setSimulations, currentSimulationId, setCurrentSimulationId } = usePersistentSimulations({
    storageKey: 'mySimulations',
    migrationInstructions: myMigrationInstructions,
  })

  // Component logic here

  return (
    <div>
      {/* Render simulations */}
    </div>
  )
}
```

This hook ensures that simulations are persisted across sessions and properly migrated when necessary.